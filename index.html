<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0a12" />
  <title>üé≠ Carnaval 2026 ‚Äî Contagem Regressiva</title>

  <style>
    :root{
      --bg0:#070611;
      --bg1:#0b0a12;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);

      --a:#ffcc00;
      --b:#ff2ea6;
      --c:#2ef2ff;
      --d:#8b5cff;
      --e:#35ff7a;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --radius: 22px;
    }

    *{ box-sizing: border-box; }
    html,body{ height: 100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 700px at 15% 20%, rgba(255,204,0,.18), transparent 60%),
                  radial-gradient(1000px 650px at 85% 30%, rgba(46,242,255,.16), transparent 60%),
                  radial-gradient(900px 650px at 45% 90%, rgba(255,46,166,.12), transparent 60%),
                  linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* fundo com brilho animado */
    .aurora{
      position: fixed;
      inset: -30%;
      filter: blur(50px);
      opacity: .85;
      z-index: -2;
      background:
        conic-gradient(from 180deg at 50% 50%,
          rgba(255,204,0,.25),
          rgba(255,46,166,.20),
          rgba(46,242,255,.18),
          rgba(139,92,255,.18),
          rgba(53,255,122,.14),
          rgba(255,204,0,.25)
        );
      animation: spin 14s linear infinite;
      transform-origin: center;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* textura de estrelinhas */
    .stars{
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events:none;
      background-image:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,.18) 0 1px, transparent 2px),
        radial-gradient(circle at 70% 40%, rgba(255,255,255,.15) 0 1px, transparent 2px),
        radial-gradient(circle at 35% 75%, rgba(255,255,255,.12) 0 1px, transparent 2px),
        radial-gradient(circle at 80% 80%, rgba(255,255,255,.10) 0 1px, transparent 2px);
      background-size: 260px 260px;
      opacity: .55;
      animation: drift 18s ease-in-out infinite alternate;
    }
    @keyframes drift{
      from{ transform: translate3d(0,0,0); }
      to  { transform: translate3d(-18px, 12px,0); }
    }

    /* layout */
    .wrap{
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 26px 16px 56px;
    }

    .card{
      width: min(980px, 100%);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      padding: clamp(18px, 3.2vw, 30px);
      position: relative;
      overflow:hidden;
    }

    /* fita decorativa */
    .ribbon{
      position:absolute;
      top:-40px;
      left:-60px;
      width: 220px;
      height: 220px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 35% 35%, rgba(255,204,0,.55), transparent 60%),
        radial-gradient(circle at 70% 60%, rgba(46,242,255,.45), transparent 58%),
        radial-gradient(circle at 55% 80%, rgba(255,46,166,.35), transparent 60%);
      filter: blur(2px);
      opacity:.9;
      transform: rotate(15deg);
    }
    .ribbon2{
      position:absolute;
      bottom:-70px;
      right:-90px;
      width: 300px;
      height: 300px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 35% 35%, rgba(139,92,255,.45), transparent 60%),
        radial-gradient(circle at 70% 55%, rgba(53,255,122,.34), transparent 58%),
        radial-gradient(circle at 45% 80%, rgba(255,204,0,.30), transparent 60%);
      filter: blur(2px);
      opacity:.8;
      transform: rotate(-12deg);
    }

    header{
      display:flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 16px;
      flex-wrap: wrap;
      margin-bottom: 18px;
    }

    .title{
      display:flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }

    .badge{
      font-weight: 800;
      letter-spacing: .08em;
      text-transform: uppercase;
      font-size: 12px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color: rgba(255,255,255,.86);
      display:inline-flex;
      gap: 8px;
      align-items:center;
    }

    h1{
      margin:0;
      font-size: clamp(26px, 3.6vw, 44px);
      line-height: 1.05;
      letter-spacing: -0.02em;
      text-shadow: 0 10px 40px rgba(0,0,0,.45);
    }

    .subtitle{
      margin: 10px 0 0;
      color: var(--muted);
      line-height: 1.45;
      max-width: 70ch;
    }

    .meta{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: flex-end;
    }

    .meta .pill{
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      border-radius: 999px;
      padding: 8px 12px;
      font-size: 12px;
      color: rgba(255,255,255,.82);
      backdrop-filter: blur(8px);
    }

    /* grid dos n√∫meros */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
      margin-top: 14px;
    }
    @media (max-width: 720px){
      .grid{ grid-template-columns: 1fr; }
      .meta{ justify-content: flex-start; }
    }

    .tile{
      position: relative;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.16);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      padding: 18px 18px 16px;
      overflow:hidden;
      backdrop-filter: blur(10px);
    }

    .tile::before{
      content:"";
      position:absolute;
      inset: -2px;
      border-radius: 18px;
      background: radial-gradient(600px 200px at 20% 0%, rgba(255,204,0,.18), transparent 60%),
                  radial-gradient(540px 220px at 90% 20%, rgba(46,242,255,.16), transparent 60%),
                  radial-gradient(520px 220px at 40% 120%, rgba(255,46,166,.12), transparent 60%);
      opacity:.9;
      z-index:-1;
    }

    .label{
      font-size: 12px;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: rgba(255,255,255,.78);
      display:flex;
      align-items:center;
      gap: 8px;
    }

    .value{
      font-variant-numeric: tabular-nums;
      margin-top: 8px;
      font-size: clamp(44px, 6.4vw, 86px);
      font-weight: 900;
      letter-spacing: -0.04em;
      line-height: 1;
      text-shadow: 0 18px 60px rgba(0,0,0,.55);
    }

    .glow{
      display:inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.14);
      font-size: 12px;
      margin-top: 10px;
      color: rgba(255,255,255,.80);
    }

    .fine{
      margin-top: 14px;
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }
    .fine .chip{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      border-radius: 999px;
      padding: 10px 12px;
      font-size: 12px;
      color: rgba(255,255,255,.82);
      backdrop-filter: blur(8px);
    }

    /* ‚Äúbateria‚Äù pulsando */
    .beat{
      display:inline-flex;
      gap: 6px;
      align-items: flex-end;
      height: 14px;
      margin-left: 6px;
    }
    .beat i{
      display:block;
      width: 4px;
      border-radius: 99px;
      background: rgba(255,255,255,.85);
      animation: bounce 1.1s ease-in-out infinite;
      opacity:.9;
    }
    .beat i:nth-child(2){ animation-delay: .12s; height: 10px; opacity:.75; }
    .beat i:nth-child(3){ animation-delay: .24s; height: 14px; }
    .beat i:nth-child(4){ animation-delay: .36s; height: 8px; opacity:.7; }
    @keyframes bounce{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-6px); }
    }

    /* bot√µes */
    .actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 18px;
    }
    button{
      appearance:none;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.20);
      color: rgba(255,255,255,.92);
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 700;
      cursor: pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      backdrop-filter: blur(10px);
    }
    button:hover{ transform: translateY(-1px); background: rgba(255,255,255,.08); border-color: rgba(255,255,255,.26); }
    button:active{ transform: translateY(0px) scale(.99); }

    /* confete canvas */
    canvas#confetti{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 5;
    }

    /* rodap√© */
    .foot{
      margin-top: 18px;
      color: rgba(255,255,255,.65);
      font-size: 12px;
      line-height: 1.4;
    }
    .foot code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      color: rgba(255,255,255,.80);
    }
  </style>
</head>

<body>
  <div class="aurora"></div>
  <div class="stars"></div>
  <canvas id="confetti"></canvas>

  <div class="wrap">
    <main class="card" role="main" aria-label="Contagem regressiva para o Carnaval 2026">
      <div class="ribbon"></div>
      <div class="ribbon2"></div>

      <header>
        <div>
          <div class="title">
            <span class="badge">üé≠ Contagem oficial <span class="beat" aria-hidden="true"><i style="height:8px"></i><i></i><i></i><i></i></span></span>
          </div>
          <h1>Carnaval 2026 t√° chegando!</h1>
          <p class="subtitle">
            Quanto falta at√© <strong>13 de fevereiro de 2026</strong> (fuso <code>America/Sao_Paulo</code>)?
            Vem ver: semanas, dias e horas ‚Äî atualizado automaticamente.
          </p>
        </div>

        <div class="meta" aria-label="Metadados">
          <div class="pill">üìç Fuso: <strong>S√£o Paulo</strong></div>
          <div class="pill">üóìÔ∏è Data-alvo: <strong>13/02/2026</strong></div>
          <div class="pill">‚è±Ô∏è Agora: <strong id="now">‚Äî</strong></div>
        </div>
      </header>

      <section class="grid" aria-label="Contadores principais">
        <div class="tile">
          <div class="label">üéä Semanas</div>
          <div class="value" id="weeks">‚Äî</div>
          <div class="glow" id="weeksHint">‚Äî</div>
        </div>

        <div class="tile">
          <div class="label">ü•Å Dias</div>
          <div class="value" id="days">‚Äî</div>
          <div class="glow" id="daysHint">‚Äî</div>
        </div>

        <div class="tile">
          <div class="label">‚ú® Horas</div>
          <div class="value" id="hours">‚Äî</div>
          <div class="glow" id="hoursHint">‚Äî</div>
        </div>
      </section>

      <div class="fine" aria-label="Detalhes adicionais">
        <div class="chip">‚è≥ Minutos: <strong id="minutes">‚Äî</strong></div>
        <div class="chip">‚ö° Segundos: <strong id="seconds">‚Äî</strong></div>
        <div class="chip">üéà Status: <strong id="status">‚Äî</strong></div>
      </div>

      <div class="actions">
        <button id="toggleConfetti" type="button">üéâ Alternar confete</button>
        <button id="copyLink" type="button">üîó Copiar link do site</button>
        <button id="share" type="button">üì≤ Compartilhar</button>
      </div>

      <div class="foot">
        Dica: se estiver usando GitHub Pages, o link costuma ser
        <code>https://SEUUSUARIO.github.io/NOME-DO-REPO</code>.
      </div>
    </main>
  </div>

  <script>
    // =========================
    // CONFIG
    // =========================
    const TZ = "America/Sao_Paulo";
    // Alvo: 13/02/2026 00:00:00 no fuso de S√£o Paulo.
    // (Sem depender de suposi√ß√µes de timezone do celular)
    const TARGET_DATE_STR = "2026-02-13";
    const TARGET_TIME_STR = "00:00:00";

    // =========================
    // FUN√á√ïES DE TIMEZONE
    // =========================
    function tzParts(date, timeZone){
      const fmt = new Intl.DateTimeFormat("en-US", {
        timeZone,
        year: "numeric", month: "2-digit", day: "2-digit",
        hour: "2-digit", minute: "2-digit", second: "2-digit",
        hour12: false
      });
      const parts = Object.fromEntries(fmt.formatToParts(date).map(p => [p.type, p.value]));
      return {
        year: Number(parts.year),
        month: Number(parts.month),
        day: Number(parts.day),
        hour: Number(parts.hour),
        minute: Number(parts.minute),
        second: Number(parts.second)
      };
    }

    function targetTimestampUTC(){
      const [y,m,d] = TARGET_DATE_STR.split("-").map(Number);
      const [hh,mm,ss] = TARGET_TIME_STR.split(":").map(Number);

      // chute em UTC e corre√ß√µes iterativas para achar o instante UTC
      // equivalente √† data/hora no fuso desejado
      let t = Date.UTC(y, m-1, d, hh, mm, ss);

      for (let i=0; i<6; i++){
        const cur = tzParts(new Date(t), TZ);
        const curDate = Date.UTC(cur.year, cur.month-1, cur.day);
        const desDate = Date.UTC(y, m-1, d);
        const dayDiff = Math.round((curDate - desDate)/86400000);

        const curSec = cur.hour*3600 + cur.minute*60 + cur.second;
        const desSec = hh*3600 + mm*60 + ss;
        const diffSec = dayDiff*86400 + (curSec - desSec);

        if (diffSec === 0) break;
        t -= diffSec*1000;
      }
      return t;
    }

    function formatNowSP(){
      return new Intl.DateTimeFormat("pt-BR", {
        timeZone: TZ,
        dateStyle: "medium",
        timeStyle: "medium"
      }).format(new Date());
    }

    const TARGET_TS = targetTimestampUTC();

    // =========================
    // ELEMENTOS
    // =========================
    const $ = (id) => document.getElementById(id);

    const elWeeks = $("weeks");
    const elDays = $("days");
    const elHours = $("hours");
    const elMinutes = $("minutes");
    const elSeconds = $("seconds");

    const elWeeksHint = $("weeksHint");
    const elDaysHint  = $("daysHint");
    const elHoursHint = $("hoursHint");

    const elNow = $("now");
    const elStatus = $("status");

    // =========================
    // CONTAGEM
    // =========================
    function pad(n){ return String(n).padStart(2,"0"); }

    function tick(){
      const now = Date.now();
      let diffMs = TARGET_TS - now;

      elNow.textContent = formatNowSP();

      if (diffMs <= 0){
        elWeeks.textContent = "0";
        elDays.textContent = "0";
        elHours.textContent = "0";
        elMinutes.textContent = "0";
        elSeconds.textContent = "0";

        elWeeksHint.textContent = "BORA! üé≠";
        elDaysHint.textContent  = "CHEGOU! ü•Å";
        elHoursHint.textContent = "√â HOJE! ‚ú®";

        elStatus.textContent = "Carnaval come√ßou! üéâ";
        // explode confete uma vez
        if (!confettiBurstDone){
          burstConfetti(260);
          confettiBurstDone = true;
        }
        return;
      }

      const totalSeconds = Math.floor(diffMs / 1000);
      const totalMinutes = Math.floor(totalSeconds / 60);
      const totalHours   = Math.floor(totalSeconds / 3600);
      const totalDays    = Math.floor(totalSeconds / 86400);
      const totalWeeks   = Math.floor(totalDays / 7);

      // principais
      elWeeks.textContent = String(totalWeeks);
      elDays.textContent  = String(totalDays);
      elHours.textContent = String(totalHours);

      // menores (restos)
      const remMinutes = totalMinutes % 60;
      const remSeconds = totalSeconds % 60;

      elMinutes.textContent = String(remMinutes);
      elSeconds.textContent = String(remSeconds);

      // hints divertidos
      elWeeksHint.textContent = `${totalDays % 7} dia(s) al√©m das semanas`;
      elDaysHint.textContent  = `${totalHours % 24} hora(s) al√©m dos dias`;
      elHoursHint.textContent = `${pad(remMinutes)}:${pad(remSeconds)} (mm:ss)`;

      elStatus.textContent = "A bateria t√° esquentando‚Ä¶";
    }

    // =========================
    // CONFETE
    // =========================
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");

    let W = 0, H = 0;
    function resize(){
      W = canvas.width = window.innerWidth * devicePixelRatio;
      H = canvas.height = window.innerHeight * devicePixelRatio;
    }
    window.addEventListener("resize", resize);
    resize();

    const COLORS = ["#ffcc00","#ff2ea6","#2ef2ff","#8b5cff","#35ff7a","#ffffff"];
    let confettiOn = true;
    let confettiBurstDone = false;

    const pieces = [];
    function rand(min,max){ return Math.random()*(max-min)+min; }

    function spawnPiece(x, y, vyBoost=0){
      const size = rand(6, 14) * devicePixelRatio;
      pieces.push({
        x: (x ?? rand(0, W)),
        y: (y ?? rand(-H*0.2, 0)),
        vx: rand(-0.6, 0.6) * devicePixelRatio,
        vy: (rand(1.0, 2.8) + vyBoost) * devicePixelRatio,
        rot: rand(0, Math.PI*2),
        vr: rand(-0.12, 0.12),
        size,
        color: COLORS[(Math.random()*COLORS.length)|0],
        life: rand(4, 10) // segundos aprox (controlado no update)
      });
    }

    // confete cont√≠nuo (leve)
    for (let i=0; i<110; i++) spawnPiece();

    function burstConfetti(n=180){
      const cx = W/2, cy = H*0.22;
      for (let i=0; i<n; i++){
        const angle = rand(-Math.PI, 0);
        const speed = rand(3, 7) * devicePixelRatio;
        const size = rand(6, 15) * devicePixelRatio;
        pieces.push({
          x: cx + rand(-60,60)*devicePixelRatio,
          y: cy + rand(-20,20)*devicePixelRatio,
          vx: Math.cos(angle)*speed,
          vy: Math.sin(angle)*speed,
          rot: rand(0, Math.PI*2),
          vr: rand(-0.18, 0.18),
          size,
          color: COLORS[(Math.random()*COLORS.length)|0],
          life: rand(3.5, 7.5)
        });
      }
    }

    let last = performance.now();
    function animate(t){
      const dt = Math.min(0.032, (t - last)/1000);
      last = t;

      ctx.clearRect(0,0,W,H);

      if (confettiOn){
        // manter um ‚Äúchuvisco‚Äù leve
        if (pieces.length < 150 && Math.random() < 0.35) spawnPiece();

        for (let i = pieces.length - 1; i >= 0; i--){
          const p = pieces[i];
          p.life -= dt;
          p.vy += 0.35 * devicePixelRatio * dt; // gravidade
          p.x  += p.vx;
          p.y  += p.vy;
          p.rot += p.vr;

          // wrap horizontal
          if (p.x < -50) p.x = W + 50;
          if (p.x > W + 50) p.x = -50;

          // desenhar (ret√¢ngulo girado)
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.globalAlpha = Math.max(0, Math.min(1, p.life / 2.0));
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.size/2, -p.size/3, p.size, p.size/1.6);
          ctx.restore();

          if (p.y > H + 120 || p.life <= 0){
            pieces.splice(i, 1);
          }
        }
      }

      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);

    // =========================
    // A√á√ïES (bot√µes)
    // =========================
    document.getElementById("toggleConfetti").addEventListener("click", () => {
      confettiOn = !confettiOn;
      if (confettiOn) burstConfetti(120);
    });

    document.getElementById("copyLink").addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(location.href);
        burstConfetti(120);
        elStatus.textContent = "Link copiado! üîó";
        setTimeout(()=> elStatus.textContent = "A bateria t√° esquentando‚Ä¶", 1800);
      } catch {
        elStatus.textContent = "N√£o consegui copiar (perm.) ‚Äî copie manualmente.";
        setTimeout(()=> elStatus.textContent = "A bateria t√° esquentando‚Ä¶", 2200);
      }
    });

    document.getElementById("share").addEventListener("click", async () => {
      const text = "üé≠ Contagem regressiva para o Carnaval 2026!";
      const url = location.href;
      try{
        if (navigator.share){
          await navigator.share({ title: document.title, text, url });
          burstConfetti(120);
          elStatus.textContent = "Compartilhado! üì≤";
          setTimeout(()=> elStatus.textContent = "A bateria t√° esquentando‚Ä¶", 1800);
        } else {
          // fallback
          await navigator.clipboard.writeText(url);
          burstConfetti(120);
          elStatus.textContent = "Seu celular n√£o tem share ‚Äî link copiado!";
          setTimeout(()=> elStatus.textContent = "A bateria t√° esquentando‚Ä¶", 2200);
        }
      } catch {
        elStatus.textContent = "Ok ‚Äî sem problemas üôÇ";
        setTimeout(()=> elStatus.textContent = "A bateria t√° esquentando‚Ä¶", 1800);
      }
    });

    // =========================
    // START
    // =========================
    tick();
    setInterval(tick, 250); // suave/‚Äúvivo‚Äù sem pesar
    // um burst inicial leve
    burstConfetti(90);
  </script>
</body>
</html>

